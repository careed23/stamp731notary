---
import { SITE_TITLE } from '../consts';
---

<header>
	<div class="header-inner container">
		<a href="/" class="brand">
			<img src="/assets/logo.svg" alt="Stamp 731 Notary logo" class="brand-logo" width="44" height="44" />
			<span class="brand-name">{SITE_TITLE}</span>
		</a>

		<!-- Hamburger for mobile -->
		<button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false" id="menuToggle">
			<span></span><span></span><span></span>
		</button>

		<nav id="mainNav">
			<a href="/" class="nav-link">Home</a>
			<a href="/why-mallory" class="nav-link">Why Mallory</a>
			<a href="/contact" class="nav-link nav-cta">Book Now</a>
		</nav>
	</div>
</header>

<script>
	const toggle = document.getElementById('menuToggle');
	const nav = document.getElementById('mainNav');
	toggle?.addEventListener('click', () => {
		const expanded = toggle.getAttribute('aria-expanded') === 'true';
		toggle.setAttribute('aria-expanded', String(!expanded));
		nav?.classList.toggle('open');
	});
</script>

<style>
	header {
		position: sticky;
		top: 0;
		z-index: 100;
		background: var(--black);
		border-bottom: 3px solid var(--gold);
	}

	.header-inner {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding-top: 0.85rem;
		padding-bottom: 0.85rem;
	}

	/* Brand */
	.brand {
		display: flex;
		align-items: center;
		gap: 0.6rem;
		text-decoration: none;
	}
	.brand-logo {
		border-radius: 4px;
		flex-shrink: 0;
	}
	.brand-name {
		color: var(--gold);
		font-weight: 700;
		font-size: 1.15rem;
		letter-spacing: 0.02em;
		line-height: 1.2;
	}

	/* Nav */
	nav {
		display: flex;
		align-items: center;
		gap: 0.25rem;
	}
	.nav-link {
		color: var(--cream);
		text-decoration: none;
		padding: 0.5rem 1rem;
		border-radius: 4px;
		font-size: 0.97rem;
		font-weight: 600;
		transition: color 0.15s, background 0.15s;
	}
	.nav-link:hover {
		color: var(--gold);
	}
	.nav-cta {
		background: var(--gold);
		color: var(--black) !important;
		margin-left: 0.5rem;
	}
	.nav-cta:hover {
		background: var(--gold-dark);
		color: var(--white) !important;
	}

	/* Active link highlight via CSS attribute trick */
	.nav-link[data-active="true"] {
		color: var(--gold);
	}

	/* Hamburger */
	.menu-toggle {
		display: none;
		flex-direction: column;
		gap: 5px;
		background: none;
		border: none;
		cursor: pointer;
		padding: 4px;
	}
	.menu-toggle span {
		display: block;
		width: 24px;
		height: 2px;
		background: var(--gold);
		border-radius: 2px;
		transition: 0.3s;
	}

	@media (max-width: 720px) {
		.menu-toggle {
			display: flex;
		}
		nav {
			display: none;
			position: absolute;
			top: 100%;
			left: 0;
			right: 0;
			background: var(--black-soft);
			flex-direction: column;
			padding: 1rem 1.5rem 1.5rem;
			gap: 0.5rem;
			border-bottom: 2px solid var(--gold);
		}
		nav.open {
			display: flex;
		}
		.nav-link {
			width: 100%;
			padding: 0.6rem 0.5rem;
		}
		.nav-cta {
			margin-left: 0;
			text-align: center;
		}
	}
</style>
